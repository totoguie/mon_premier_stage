{% extends "base.html" %}
{% block title %}Modifier l'offre{% endblock %}
{% block content %}
{% include "entreprise/header.html" %}

<main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <h2 class="text-2xl font-bold text-primary-blue mb-6">Modifier l'offre</h2>

  <form method="post" class="bg-white rounded-lg shadow-md p-6 space-y-6">
    {% csrf_token %}

    <div>
      <label class="block text-sm font-medium text-gray-700">Titre du poste</label>
      <input type="text" name="titre_poste" value="{{ offre.titre_poste }}"
             class="mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-primary-orange focus:border-primary-orange">
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700">Type d'offre</label>
        <select
        class="mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-primary-orange focus:border-primary-orange"
         name="type_offre">
            <option value="{{ offre.type_offre }}">{{ offre.type_offre }}</option>
            <option value="Premier emploi">Premier emploi</option>
            <option value="CDD">CDD</option>
            <option value="CDI">CDI</option>
            <option value="Consultant / Freelance">Consultant / Freelance</option>
            <option value="Alternance / apprentissage">Alternance / apprentissage</option>
            <option value="Stage académique">Stage académique</option>
            <option value="Stage de perfectionnement">Stage de perfectionnement</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Type de contrat</label>
        <select
        class="mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-primary-orange focus:border-primary-orange"
         name="type_contrat">
            <option value="{{ offre.type_contrat }}">{{ offre.type_contrat }}</option>
            <option value="CDI">CDI </option>
            <option value="CDD">CDD </option>
            <option value="Stage">Stage </option>
            <option value="Contrat d’apprentissage">Contrat d’apprentissage</option>
            <option value="Contrat de professionnalisation">Contrat de professionnalisation</option>
            <option value="Freelance / Prestation de service">Freelance / Prestation de service</option>
        </select>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700">Durée du contrat</label>
        <select
            class="mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2"
            name="duree_contrat"
        >
        <option value="{{ offre.duree_contrat }}">{{ offre.duree_contrat }}</option>
        <option value="3 mois">3 mois</option>
        <option value="6 mois">6 mois</option>
        <option value="1 an">1 an</option>
        <option value="2 ans">2 ans</option>
        <option value="Indéterminée">Indéterminée</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Date de début</label>
        <input  name="date_debut_offre" type="date" 
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500">
    </div>
    
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Date limite candidature</label>
        <input name="date_fin_candidature" type="date" 
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500">
    </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Rémunération</label>
        <input type="text" name="remuneration_offre" value="{{ offre.remuneration_offre }}"
               class="mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2">
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Localisation</label>
      <input type="text" name="localisation_offre" value="{{ offre.localisation_offre }}"
             class="mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Description</label>
      <textarea name="description_offre" rows="4"
                class="mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2">{{ offre.description_offre }}</textarea>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Compétences requises (séparées par des virgules)</label>
      <textarea name="competence_requis" rows="3"
                class="mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2">{{ offre.competence_requis }}</textarea>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Missions principales (séparées par des virgules)</label>
      <textarea name="mission_offre" rows="3"
                class="mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2">{{ offre.mission_offre }}</textarea>
    </div>

    <div class="flex justify-end space-x-4">
      <a href="{% url 'liste_offres' %}" class="px-6 py-2 bg-gray-200 rounded-lg hover:bg-gray-300">Annuler</a>
      <button type="submit" class="px-6 py-2 bg-primary-orange text-white rounded-lg hover:bg-orange-600">Enregistrer</button>
    </div>
  </form>
</main>
{% endblock %}
